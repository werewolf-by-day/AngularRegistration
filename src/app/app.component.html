<h1>Registration</h1>

<div *ngIf="success" class="success">
  <p>
    Thank you for registering with us, {{ lastUser.first_name }}. We just sent you a confirmation email at <span id="email"> {{ lastUser.email }} </span> and will send all mail to <br><br>
    {{ lastUser.street_address  }} <br>
    {{ lastUser.city  }}  {{ lastUser.state  }}. <br><br>
    Have a wonderful day!
  </p>
</div>

<form #formData='ngForm' (submit)="onSubmit()">
  <p>
    *First Name: 
    <input
      type="text"
      name="first_name"
      required
      minlength="2"
      maxlength="256"
      [(ngModel)]="user.first_name"
      #first_name="ngModel">
    <span *ngIf="first_name.errors" class="error">
      {{ first_name.errors | json }}
    </span>
  </p>
  <p>
    *Last Name: 
    <input
    type="text"
    name="last_name"
    required
    minlength="2"
    maxlength="256"
    [(ngModel)]="user.last_name"
    #last_name="ngModel">
    <span *ngIf="last_name.errors" class="error">
      {{ last_name.errors | json }}
    </span>
  </p>
  <p>
    *Email: 
    <input
    type="email"
    name="email"
    required
    minlength="5"
    maxlength="256"
    [(ngModel)]="user.email"
    #email="ngModel">
    <span *ngIf="email.errors" class="error">
      {{ email.errors | json }}
    </span>
  </p>
  <p>
    *Password: 
    <input
    type="password"
    name="password"
    required
    minlength="8"
    maxlength="256"
    [(ngModel)]="user.password"
    #password="ngModel">
    <span *ngIf="password.errors" class="error">
      {{ password.errors | json }}
    </span>
  </p>
  <p>
    *Password Confirmation: 
    <input
    type="password"
    name="password_confirm"
    required
    minlength="8"
    maxlength="256"
    [(ngModel)]="user.password_confirm">
    <span *ngIf="user.password_confirm !== user.password" class="error">
      Passwords don't match!
    </span>
  </p>
  <p>
    *Street Address: 
    <input
    type="text"
    name="street_address"
    required
    minlength="2"
    maxlength="256"
    [(ngModel)]="user.street_address"
    #street_address="ngModel">
    <span *ngIf="street_address.errors" class="error">
      {{ street_address.errors | json }}
    </span>
  </p>
  <p>
    Unit/Apt #: 
    <input
    type="string"
    name="apt_number"
    [(ngModel)]="user.apt_number"
    #apt_number="ngModel">
    <span *ngIf="apt_number.errors" class="error">
      {{ apt_number.errors | json }}
    </span>
  </p>
  <p>
    *City: 
    <input
    type="text"
    name="city"
    required
    minlength="3"
    maxlength="58"
    [(ngModel)]="user.city"
    #city="ngModel">
    <span *ngIf="city.errors" class="error">
      {{ city.errors | json }}
    </span>
  </p>
  <p>
    *State:
    <select 
    name="state"
    required
    [(ngModel)]="user.state"
    #state="ngModel">
        <option value="AL">Alabama</option>
        <option value="AK">Alaska</option>
        <option value="AZ">Arizona</option>
        <option value="AR">Arkansas</option>
        <option value="CA">California</option>
        <option value="CO">Colorado</option>
        <option value="CT">Connecticut</option>
        <option value="DE">Delaware</option>
        <option value="DC">District Of Columbia</option>
        <option value="FL">Florida</option>
        <option value="GA">Georgia</option>
        <option value="HI">Hawaii</option>
        <option value="ID">Idaho</option>
        <option value="IL">Illinois</option>
        <option value="IN">Indiana</option>
        <option value="IA">Iowa</option>
        <option value="KS">Kansas</option>
        <option value="KY">Kentucky</option>
        <option value="LA">Louisiana</option>
        <option value="ME">Maine</option>
        <option value="MD">Maryland</option>
        <option value="MA">Massachusetts</option>
        <option value="MI">Michigan</option>
        <option value="MN">Minnesota</option>
        <option value="MS">Mississippi</option>
        <option value="MO">Missouri</option>
        <option value="MT">Montana</option>
        <option value="NE">Nebraska</option>
        <option value="NV">Nevada</option>
        <option value="NH">New Hampshire</option>
        <option value="NJ">New Jersey</option>
        <option value="NM">New Mexico</option>
        <option value="NY">New York</option>
        <option value="NC">North Carolina</option>
        <option value="ND">North Dakota</option>
        <option value="OH">Ohio</option>
        <option value="OK">Oklahoma</option>
        <option value="OR">Oregon</option>
        <option value="PA">Pennsylvania</option>
        <option value="RI">Rhode Island</option>
        <option value="SC">South Carolina</option>
        <option value="SD">South Dakota</option>
        <option value="TN">Tennessee</option>
        <option value="TX">Texas</option>
        <option value="UT">Utah</option>
        <option value="VT">Vermont</option>
        <option value="VA">Virginia</option>
        <option value="WA">Washington</option>
        <option value="WV">West Virginia</option>
        <option value="WI">Wisconsin</option>
        <option value="WY">Wyoming</option>
      </select>       
      <span *ngIf="state.errors" class="error">
        {{ state.errors | json }}
    </span>
  </p>
  <!-- <p>
    *I'm feeling lucky: 
    <input
    type="radio"
    name="feeling"
    ng-required
    value=true 
    [(ngModel)]="user.feeling"
    #feeling="ngModel">Yes
    <input
    type="radio"
    name="feeling"
    ng-required
    value=false
    [(ngModel)]="user.feeling"
    #feeling="ngModel">No<br>
    <span *ngIf="user.feeling.errors" class="error">
      Choosing how you feel is required!
    </span>
  </p> -->
  <input type="submit" value="Register" [disabled]="!formData.valid">
</form>